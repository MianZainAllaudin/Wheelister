<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheelister | Premium Car Rental</title>
    <link rel="icon" href="logo-removebg-preview.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="userdashboard.css">
    
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="logo-removebg-preview.png" alt="Wheelister Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="gotodashboard()">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotobookings()">My Bookings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotoprofile()">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotome()">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="userSettings.html">Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content fade-in">
                <h1 class="hero-heading">WHEELISTER</h1>
                <p class="hero-description">
                    Select your favorite cars to rent from all over Pakistan within minutes. We offer an extensive selection that will make your travel journey memorable and exciting.
                </p>
                <a href="#search-section" class="btn search-button">
                    Start Your Journey <i class="fas fa-chevron-right ms-2"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section" id="search-section">
        <div class="container">
            <div class="search-tabs slide-up">
                <div class="search-tab active" id="carTab" onclick="showcarsearch()">
                    <i class="fas fa-car me-2"></i> Find Cars
                </div>
                <div class="search-tab" id="warehouseTab" onclick="showWarehouseSearch()">
                    <i class="fas fa-warehouse me-2"></i> Warehouses
                </div>
            </div>

            <div class="search-container slide-up" style="animation-delay: 0.2s;">
                <!-- Car Search Section -->
                <div id="carSearchSection">
                    <div class="search-box">
                        <input type="text" id="searchInput" class="search-input" placeholder="What car are you looking for?">
                        <button class="search-button" id="searchButton">
                            <i class="fas fa-search me-2"></i> Search
                        </button>
                    </div>
                    <div id="searchResults" class="search-results"></div>
                </div>

                <!-- Warehouse Search Section -->
                <div id="warehouseSearchSection" style="display: none;">
                    <div class="search-box">
                        <input type="text" id="warehouseInput" class="search-input" placeholder="Enter city or location">
                        <button class="search-button" id="warehouseButton">
                            <i class="fas fa-map-marker-alt me-2"></i> Find Warehouse
                        </button>
                    </div>
                    <div id="warehouseResults" class="search-results"></div>
                </div>

                <!-- Cars Search Section -->
                <div id="carsSearchSection" style="display: none;">
                    <div class="search-box">
                        <input type="text" id="caringInput" class="search-input" placeholder="Search by car model, brand or type">
                        <button class="search-button" id="caringButton">
                            <i class="fas fa-car-alt me-2"></i> Find Models
                        </button>
                    </div>
                    <div id="carsResults" class="search-results"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Cars Section -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Featured Vehicles</h2>
                <p class="text-muted">Discover our most popular rental options</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <img src="toyota corolla.jpeg" style="height: 200px;"  class="card-img-top" alt="Car Image">
                        <div class="card-body">
                            <h5 class="card-title">Toyota Corolla</h5>
                            <div class="d-flex justify-content-between mb-3">
                                <span class="badge bg-primary">Sedan</span>
                                <span class="text-success fw-bold">Rs. 5,000/day</span>
                            </div>
                            <div class="d-flex justify-content-between text-muted small mb-3">
                                <span><i class="fas fa-gas-pump me-1"></i> Hybrid</span>
                                <span><i class="fas fa-cog me-1"></i> Automatic</span>
                                <span><i class="fas fa-user me-1"></i> 5 Seats</span>
                            </div>
                            <button class="btn search-button w-100">Book Now</button>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <img src="Free-download-Honda-Wallpaper.jpg" style="height: 200px;" class="card-img-top" alt="Car Image">
                        <div class="card-body">
                            <h5 class="card-title">Honda Civic</h5>
                            <div class="d-flex justify-content-between mb-3">
                                <span class="badge bg-primary">Sedan</span>
                                <span class="text-success fw-bold">Rs. 5,500/day</span>
                            </div>
                            <div class="d-flex justify-content-between text-muted small mb-3">
                                <span><i class="fas fa-gas-pump me-1"></i> Petrol</span>
                                <span><i class="fas fa-cog me-1"></i> Automatic</span>
                                <span><i class="fas fa-user me-1"></i> 5 Seats</span>
                            </div>
                            <button class="btn search-button w-100">Book Now</button>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <img src="Suzuki Cultus 2022 wallpaper-2475.jpg" style="height: 200px;" class="card-img-top" alt="Car Image">
                        <div class="card-body">
                            <h5 class="card-title">Suzuki Cultus</h5>
                            <div class="d-flex justify-content-between mb-3">
                                <span class="badge bg-primary">Hatchback</span>
                                <span class="text-success fw-bold">Rs. 4,000/day</span>
                            </div>
                            <div class="d-flex justify-content-between text-muted small mb-3">
                                <span><i class="fas fa-gas-pump me-1"></i> Petrol</span>
                                <span><i class="fas fa-cog me-1"></i> Manual</span>
                                <span><i class="fas fa-user me-1"></i> 4 Seats</span>
                            </div>
                            <button class="btn search-button w-100">Book Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">How It Works</h2>
                <p class="text-muted">Rent your dream car in 3 simple steps</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-4 text-center">
                    <div class="p-4">
                        <div class="bg-white rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center" style="width: 100px; height: 100px;">
                            <i class="fas fa-search fa-3x text-primary"></i>
                        </div>
                        <h5 class="fw-bold">Search</h5>
                        <p class="text-muted">Browse our extensive fleet and find your perfect car</p>
                    </div>
                </div>
                
                <div class="col-md-4 text-center">
                    <div class="p-4">
                        <div class="bg-white rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center" style="width: 100px; height: 100px;">
                            <i class="fas fa-calendar-check fa-3x text-primary"></i>
                        </div>
                        <h5 class="fw-bold">Book</h5>
                        <p class="text-muted">Select your dates and book your vehicle online in minutes</p>
                    </div>
                </div>
                
                <div class="col-md-4 text-center">
                    <div class="p-4">
                        <div class="bg-white rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center" style="width: 100px; height: 100px;">
                            <i class="fas fa-car fa-3x text-primary"></i>
                        </div>
                        <h5 class="fw-bold">Drive</h5>
                        <p class="text-muted">Pick up your car and enjoy your journey</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <div class="footer-logo">
                        <img src="logo-removebg-preview.png" alt="Wheelister Logo">
                    </div>
                    <p>Your trusted partner for premium car rentals across Pakistan. Making your journeys comfortable and memorable since 2020.</p>
                    <div class="mt-4">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <div class="footer-links">
                        <h5>Company</h5>
                        <ul>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="about.html">Our Team</a></li>
                            <li><a href="about.html">Careers</a></li>
                            <li><a href="about.html">Blog</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <div class="footer-links">
                        <h5>Support</h5>
                        <ul>
                            <li><a href="about.html">Help Center</a></li>
                            <li><a href="about.html">Contact Us</a></li>
                            <li><a href="about.html">FAQs</a></li>
                            <li><a href="about.html">Feedback</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <div class="footer-links">
                        <h5>Services</h5>
                        <ul>
                            <li><a href="userSettings.html">Car Rental</a></li>
                        
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6">
                    <div class="footer-links">
                        <h5>Legal</h5>
                        <ul>
                            <li><a href="userSettings.html">Terms</a></li>
                            <li><a href="userSettings.html">Privacy</a></li>
                            <li><a href="userSettings.html">Cookies</a></li>
                            <li><a href="userSettings.html">Licenses</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="text-center copyright">
                &copy; 2025 Wheelister. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            if (window.scrollY > 50) {
                document.querySelector('.navbar').classList.add('scrolled');
            } else {
                document.querySelector('.navbar').classList.remove('scrolled');
            }
        });
        
        // Tab switching
        function showcarsearch() {
            document.getElementById('carSearchSection').style.display = 'block';
            document.getElementById('warehouseSearchSection').style.display = 'none';
            document.getElementById('carsSearchSection').style.display = 'none';
            
            document.getElementById('carTab').classList.add('active');
            document.getElementById('warehouseTab').classList.remove('active');
            document.getElementById('carModelsTab').classList.remove('active');
        }
        
        function showWarehouseSearch() {
            document.getElementById('carSearchSection').style.display = 'none';
            document.getElementById('warehouseSearchSection').style.display = 'block';
            document.getElementById('carsSearchSection').style.display = 'none';
            
            document.getElementById('carTab').classList.remove('active');
            document.getElementById('warehouseTab').classList.add('active');
            document.getElementById('carModelsTab').classList.remove('active');
        }
        
        function showCarsSearch() {
            document.getElementById('carSearchSection').style.display = 'none';
            document.getElementById('warehouseSearchSection').style.display = 'none';
            document.getElementById('carsSearchSection').style.display = 'block';
            
            document.getElementById('carTab').classList.remove('active');
            document.getElementById('warehouseTab').classList.remove('active');
            document.getElementById('carModelsTab').classList.add('active');
        }
        
        // Navigation functions
        function gotodashboard() {
            setTimeout(() => window.location.href = "UserDashboard.html", 1000);
        }
        
        function gotobookings() {
            setTimeout(() => window.location.href = "bookings.html", 1000);
        }
        
        function gotoprofile() {
            setTimeout(() => window.location.href = "profile.html", 1000);
        }
        
        function gotome() {
            setTimeout(() => window.location.href = "about.html", 1000);
        }
        
        // Search functionality
        document.getElementById('searchButton').addEventListener('click', async () => {
    const searchTerm = document.getElementById('searchInput').value.trim();
    const resultsContainer = document.getElementById('searchResults');
    resultsContainer.innerHTML = '';
    
    if (!searchTerm) return;
    
    // Show loading state
    resultsContainer.innerHTML = '<div class="text-center py-4"><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>';
    
    try {
        const response = await fetch('http://localhost:3000/search', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username: searchTerm })
        });
        const result = await response.json();
        
        if (result.success && result.data.length > 0) {
            resultsContainer.innerHTML = result.data.map(car => `
                <div class="result-item mb-3 p-3 border rounded shadow-sm">
                    <div class="result-content d-flex justify-content-between align-items-center">
                        <div>
                            <h5 class="mb-1">${car.car_name}</h5>
                            <p class="text-muted mb-0">Miles: ${car.car_miles} | Price: $${car.car_booking_price}</p>
                        </div>
                        <button onclick="viewCarDetails('${car.car_name}')" class="btn btn-primary">
                            View Details <i class="fas fa-arrow-right ms-1"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        } else {
            resultsContainer.innerHTML = '<div class="text-center py-4 text-muted">No results found</div>';
        }
    } catch (error) {
        console.error('Search Error:', error);
        resultsContainer.innerHTML = '<div class="text-center py-4 text-danger">Something went wrong. Please try again later.</div>';
    }
});

// Define the function to handle "View Details" button click
function viewCarDetails(carName) {
    window.location.href = `car-details.html?car_name=${encodeURIComponent(carName)}`;
}



        document.getElementById('warehouseButton').addEventListener('click', async () => {
            const location = document.getElementById('warehouseInput').value.trim();
            const resultsContainer = document.getElementById('warehouseResults');
            resultsContainer.innerHTML = '';
            
            if (!location) return;
            
            // Show loading state
            resultsContainer.innerHTML = '<div class="text-center py-4"><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>';
            
            try {
                const response = await fetch('http://localhost:3000/search-warehouse', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ location })
                });
                const result = await response.json();
                
                if (result.success && result.data.length > 0) {
                    resultsContainer.innerHTML = result.data.map(warehouse => `
                        <div class="result-item">
                            <div class="result-content d-flex justify-content-between align-items-center">
                                <div>
                                    <h5 class="mb-1">${warehouse.warehouse_name}</h5>
                                    <p class="text-muted mb-0">${warehouse.address}</p>
                                    <small class="text-muted"><i class="fas fa-phone me-1"></i>${warehouse.phonenumber}</small>
                                </div>
                              <button onclick="viewWarehouse('${warehouse.warehouse_no}')" class="view-button">
                                    Details <i class="fas fa-arrow-right ms-1"></i>
                                </button>
                            </div>
                        </div>
                    `).join('');
                } else {
                    resultsContainer.innerHTML = '<div class="text-center py-4 text-muted">No warehouses found in this location</div>';
                }
            } catch (error) {
                console.error('Warehouse Search Error:', error);
                resultsContainer.innerHTML = '<div class="text-center py-4 text-danger">Something went wrong. Please try again later.</div>';
            }
        });
        function viewWarehouse(warehouseNo) {
            window.location.href = `warehouse-cars.html?warehouse_no=${encodeURIComponent(warehouseNo)}`;
        }

        document.getElementById('caringButton').addEventListener('click', async () => {
    const carModel = document.getElementById('caringInput').value.trim();
    const resultsContainer = document.getElementById('carsResults');
    resultsContainer.innerHTML = '';
    
    if (!carModel) return;
    
    // Show loading state
    resultsContainer.innerHTML = '<div class="text-center py-4"><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>';
    
    try {
        const response = await fetch('http://localhost:3000/search-cars', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ model: carModel })
        });
        const result = await response.json();
        
        if (result.success && result.data.length > 0) {
            resultsContainer.innerHTML = result.data.map(car => `
                <div class="result-item">
                    <div class="result-content d-flex justify-content-between align-items-center">
                        <div>
                            <h5 class="mb-1">${car.brand} ${car.model}</h5>
                            <p class="text-muted mb-0">${car.type} • ${car.year} • ${car.transmission}</p>
                            <div class="mt-1">
                                <span class="badge bg-success me-2">Rs. ${car.price}/day</span>
                                <small class="text-muted"><i class="fas fa-map-marker-alt me-1"></i>${car.location}</small>
                            </div>
                        </div>
                        <button onclick="viewCarDetails('${car.car_name}')" class="btn btn-primary">View Details</button>

                    </div>
                </div>
            `).join('');
        } else {
            resultsContainer.innerHTML = '<div class="text-center py-4 text-muted">No car models found matching your search</div>';
        }
    } catch (error) {
        console.error('Car Search Error:', error);
        resultsContainer.innerHTML = '<div class="text-center py-4 text-danger">Something went wrong. Please try again later.</div>';
    }
});

// Function to view car details
function viewCarDetails(carName) {
    window.location.href = `car-details.html?car_name=${encodeURIComponent(carName)}`;
}



// Function to view user profile
function viewUser(userId) {
    // Navigate to user profile page
    window.location.href = `user-profile.html?id=${userId}`;
}

// Add smooth scrolling for all anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Intersection Observer for animations
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
            observer.unobserve(entry.target);
        }
    });
}, { threshold: 0.2 });

// Observe elements with animation classes
document.querySelectorAll('.card, .p-4').forEach(el => {
    observer.observe(el);
});
</script>
</body>
</html>
