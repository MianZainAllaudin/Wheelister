<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheelister | Account Settings</title>
    <link rel="icon" href="logo-removebg-preview.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4e73df;
            --secondary-color: #224abe;
            --bg-light: #f8f9fc;
            --text-dark: #5a5c69;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-dark);
            padding-top: 80px;
        }
        
        .navbar {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
        }
        
        .navbar.scrolled {
            padding: 0.2rem 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .navbar-brand img {
            height: 40px;
            transition: all 0.3s ease;
        }
        
        .navbar.scrolled .navbar-brand img {
            height: 35px;
        }
        
        .nav-link {
            color: var(--text-dark);
            font-weight: 600;
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover, .nav-link.active {
            color: var(--primary-color);
        }
        
        .settings-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .settings-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 0.15rem 1.75rem rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .settings-card-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            font-weight: 700;
        }
        
        .settings-card-body {
            padding: 1.5rem;
        }
        
        .settings-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 0.25rem;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .settings-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .form-control {
            padding: 0.75rem 1rem;
            border-radius: 0.25rem;
            border: 1px solid #d1d3e2;
        }
        
        label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }
        
        .nav-pills .nav-link {
            border-radius: 0;
            padding: 1rem 1.5rem;
            color: var(--text-dark);
            font-weight: 600;
        }
        
        .nav-pills .nav-link.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .terms-container {
            max-height: 300px;
            overflow-y: auto;
            padding: 1rem;
            border: 1px solid #d1d3e2;
            border-radius: 0.25rem;
            margin-bottom: 1rem;
        }
        
        .footer {
            background-color: #2c3e50;
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }
        
        .footer-logo img {
            height: 60px;
            margin-bottom: 20px;
        }
        
        .footer-links h5 {
            color: white;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .footer-links ul {
            list-style: none;
            padding: 0;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            margin-right: 10px;
            transition: all 0.3s ease;
        }
        
        .social-icon:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .copyright {
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 30px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .alert {
            display: none;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="logo-removebg-preview.png" alt="Wheelister Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotodashboard()">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotobookings()">My Bookings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotoprofile()">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="gotome()">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="userSettings.html">Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Settings Content -->
    <div class="settings-container">
        <div class="row mb-4">
            <div class="col-12">
                <h1 class="fw-bold">Account Settings</h1>
                <p class="text-muted">Manage your account preferences and security settings</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-3 mb-4">
                <div class="settings-card">
                    <div class="settings-card-header">
                        Settings Menu
                    </div>
                    <div class="settings-card-body p-0">
                        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                            <button class="nav-link active" id="v-pills-account-tab" data-bs-toggle="pill" data-bs-target="#v-pills-account" type="button" role="tab" aria-controls="v-pills-account" aria-selected="true">
                                <i class="fas fa-user-circle me-2"></i> Account
                            </button>
                            <button class="nav-link" id="v-pills-security-tab" data-bs-toggle="pill" data-bs-target="#v-pills-security" type="button" role="tab" aria-controls="v-pills-security" aria-selected="false">
                                <i class="fas fa-lock me-2"></i> Security
                            </button>
                            <button class="nav-link" id="v-pills-notifications-tab" data-bs-toggle="pill" data-bs-target="#v-pills-notifications" type="button" role="tab" aria-controls="v-pills-notifications" aria-selected="false">
                                <i class="fas fa-bell me-2"></i> Notifications
                            </button>
                            <button class="nav-link" id="v-pills-terms-tab" data-bs-toggle="pill" data-bs-target="#v-pills-terms" type="button" role="tab" aria-controls="v-pills-terms" aria-selected="false">
                                <i class="fas fa-file-contract me-2"></i> Terms & Conditions
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-9">
                <div class="tab-content" id="v-pills-tabContent">
                    <!-- Account Settings -->
                    <div class="tab-pane fade show active" id="v-pills-account" role="tabpanel" aria-labelledby="v-pills-account-tab">
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <i class="fas fa-user-edit me-2"></i> Update Username
                            </div>
                            <div class="settings-card-body">
                                <form id="updateUsernameForm">
                                    <div class="mb-3">
                                        <label for="oldUsername" class="form-label">Current Username</label>
                                        <input type="text" class="form-control" id="oldUsername" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="newUsername" class="form-label">New Username</label>
                                        <input type="text" class="form-control" id="newUsername" required>
                                    </div>
                                    <button type="submit" class="btn settings-btn">Update Username</button>
                                    <div class="alert" id="responseUsernameAlert" role="alert"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Security Settings -->
                    <div class="tab-pane fade" id="v-pills-security" role="tabpanel" aria-labelledby="v-pills-security-tab">
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <i class="fas fa-key me-2"></i> Change Password
                            </div>
                            <div class="settings-card-body">
                                <form id="changePasswordForm">
                                    <div class="mb-3">
                                        <label for="usernamePw" class="form-label">Username</label>
                                        <input type="text" class="form-control" id="usernamePw" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="oldPassword" class="form-label">Current Password</label>
                                        <input type="password" class="form-control" id="oldPassword" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="newPassword" class="form-label">New Password</label>
                                        <input type="password" class="form-control" id="newPassword" required>
                                    </div>
                                    <button type="submit" class="btn settings-btn">Change Password</button>
                                    <div class="alert" id="responsePasswordAlert" role="alert"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notifications Settings -->
                    <div class="tab-pane fade" id="v-pills-notifications" role="tabpanel" aria-labelledby="v-pills-notifications-tab">
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <i class="fas fa-bell me-2"></i> Notification Preferences
                            </div>
                            <div class="settings-card-body">
                                <form id="notificationsForm">
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="emailNotifications" checked>
                                        <label class="form-check-label" for="emailNotifications">Email Notifications</label>
                                        <p class="text-muted small">Receive booking confirmations, updates, and promotional offers</p>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="smsNotifications" checked>
                                        <label class="form-check-label" for="smsNotifications">SMS Notifications</label>
                                        <p class="text-muted small">Receive text messages for booking confirmations and updates</p>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="pushNotifications">
                                        <label class="form-check-label" for="pushNotifications">Push Notifications</label>
                                        <p class="text-muted small">Receive push notifications on your device</p>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="marketingEmails">
                                        <label class="form-check-label" for="marketingEmails">Marketing Emails</label>
                                        <p class="text-muted small">Receive promotions, special offers, and newsletters</p>
                                    </div>
                                    <button type="submit" class="btn settings-btn">Save Preferences</button>
                                    <div class="alert" id="responseNotificationsAlert" role="alert"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Terms & Conditions -->
                    <div class="tab-pane fade" id="v-pills-terms" role="tabpanel" aria-labelledby="v-pills-terms-tab">
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <i class="fas fa-file-contract me-2"></i> Terms & Conditions
                            </div>
                            <div class="settings-card-body">
                                <div class="terms-container">
                                    <h5>Terms and Conditions for Wheelister Car Rental Service</h5>
                                    <p>Last Updated: May 8, 2025</p>
                                    <p>Please read these Terms and Conditions carefully before using the Wheelister Car Rental Service operated by Wheelister Inc.</p>
                                    
                                    <h6>1. Acceptance of Terms</h6>
                                    <p>By accessing or using our service, you agree to be bound by these Terms. If you disagree with any part of the terms, you may not access the service.</p>
                                    
                                    <h6>2. Rental Requirements</h6>
                                    <p>To rent a vehicle, you must:</p>
                                    <ul>
                                        <li>Be at least 23 years of age</li>
                                        <li>Possess a valid driving license for at least 2 years</li>
                                        <li>Provide a valid credit card for payment</li>
                                        <li>Present a valid government-issued ID</li>
                                    </ul>
                                    
                                    <h6>3. Reservation and Cancellation</h6>
                                    <p>Reservations can be made online or at our rental locations. Cancellations made more than 48 hours before the scheduled pickup time will receive a full refund. Cancellations made within 48 hours of pickup time will incur a cancellation fee equal to one day's rental charge.</p>
                                    
                                    <h6>4. Vehicle Pickup and Return</h6>
                                    <p>You agree to pick up and return the vehicle at the specified location and time. Late returns will be charged at an hourly rate of the daily rental fee. If you are more than 24 hours late without notification, the vehicle may be reported as stolen.</p>
                                    
                                    <h6>5. Fuel Policy</h6>
                                    <p>Vehicles are provided with a full tank of fuel and must be returned with a full tank. If the vehicle is returned with less fuel, you will be charged for the missing fuel plus a service fee.</p>
                                    
                                    <h6>6. Maintenance and Damages</h6>
                                    <p>You are responsible for the vehicle while it is in your possession. Any damages beyond normal wear and tear will be charged to the credit card on file. You agree to immediately report any accidents or mechanical issues.</p>
                                    
                                    <h6>7. Prohibited Uses</h6>
                                    <p>Vehicles may not be used:</p>
                                    <ul>
                                        <li>For illegal activities</li>
                                        <li>To transport hazardous materials</li>
                                        <li>Off designated roads or for racing</li>
                                        <li>To tow or push other vehicles</li>
                                        <li>By drivers not listed on the rental agreement</li>
                                    </ul>
                                    
                                    <h6>8. Insurance</h6>
                                    <p>Basic insurance is included in your rental. Additional coverage options are available at an extra cost. Your personal auto insurance may provide coverage for rental vehicles, but we recommend verifying this with your insurance provider.</p>
                                    
                                    <h6>9. Limitation of Liability</h6>
                                    <p>Wheelister Inc. is not liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill, resulting from your use of the service.</p>
                                    
                                    <h6>10. Privacy Policy</h6>
                                    <p>Your use of our service is also governed by our Privacy Policy, which is incorporated by reference into these Terms and Conditions.</p>
                                    
                                    <h6>11. Governing Law</h6>
                                    <p>These Terms shall be governed by and construed in accordance with the laws of Pakistan, without regard to its conflict of law provisions.</p>
                                    
                                    <h6>12. Changes to Terms</h6>
                                    <p>We reserve the right to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days' notice prior to any new terms taking effect.</p>
                                    
                                    <h6>13. Contact Us</h6>
                                    <p>If you have any questions about these Terms, please contact us at support@wheelister.com.</p>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="acceptTerms">
                                    <label class="form-check-label" for="acceptTerms">I have read and agree to the Terms and Conditions</label>
                                </div>
                                <button type="button" class="btn settings-btn" id="acceptTermsBtn">Accept Terms</button>
                                <div class="alert" id="responseTermsAlert" role="alert"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <div class="footer-logo">
                        <img src="logo-removebg-preview.png" alt="Wheelister Logo">
                    </div>
                    <p>Your trusted partner for premium car rentals across Pakistan. Making your journeys comfortable and memorable since 2020.</p>
                    <div class="mt-4">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <div class="footer-links">
                        <h5>Company</h5>
                        <ul>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Our Team</a></li>
                            <li><a href="#">Careers</a></li>
                            <li><a href="#">Blog</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <div class="footer-links">
                        <h5>Support</h5>
                        <ul>
                            <li><a href="#">Help Center</a></li>
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">FAQs</a></li>
                            <li><a href="#">Feedback</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <div class="footer-links">
                        <h5>Services</h5>
                        <ul>
                            <li><a href="#">Car Rental</a></li>
                            <li><a href="#">Chauffeur</a></li>
                            <li><a href="#">Airport Transfer</a></li>
                            <li><a href="#">Corporate</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4 col-6">
                    <div class="footer-links">
                        <h5>Legal</h5>
                        <ul>
                            <li><a href="#">Terms</a></li>
                            <li><a href="#">Privacy</a></li>
                            <li><a href="#">Cookies</a></li>
                            <li><a href="#">Licenses</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="text-center copyright">
                &copy; 2025 Wheelister. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            if (window.scrollY > 50) {
                document.querySelector('.navbar').classList.add('scrolled');
            } else {
                document.querySelector('.navbar').classList.remove('scrolled');
            }
        });
        
        // Navigation functions
        function gotodashboard() {
            setTimeout(() => window.location.href = "UserDashboard.html", 1000);
        }
        
        function gotobookings() {
            setTimeout(() => window.location.href = "bookings.html", 1000);
        }
        
        function gotoprofile() {
            setTimeout(() => window.location.href = "profile.html", 1000);
        }
        
        function gotome() {
            setTimeout(() => window.location.href = "about.html", 1000);
        }
        
        // Update Username Form
        document.getElementById("updateUsernameForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            const oldUsername = document.getElementById("oldUsername").value;
            const newUsername = document.getElementById("newUsername").value;
            const alertDiv = document.getElementById("responseUsernameAlert");
            
            try {
                const response = await fetch("http://localhost:3000/update-username", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ oldUsername, newUsername })
                });
                const data = await response.json();
                
                alertDiv.textContent = data.message;
                alertDiv.className = data.success ? "alert alert-success" : "alert alert-danger";
                alertDiv.style.display = "block";
                
                if (data.success) {
                    setTimeout(() => {
                        document.getElementById("oldUsername").value = "";
                        document.getElementById("newUsername").value = "";
                    }, 2000);
                }
            } catch (err) {
                alertDiv.textContent = "An error occurred. Please try again later.";
                alertDiv.className = "alert alert-danger";
                alertDiv.style.display = "block";
            }
        });
        
        // Change Password Form
        document.getElementById("changePasswordForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            const username = document.getElementById("usernamePw").value;
            const oldPassword = document.getElementById("oldPassword").value;
            const newPassword = document.getElementById("newPassword").value;
            const alertDiv = document.getElementById("responsePasswordAlert");
            
            try {
                const response = await fetch("http://localhost:3000/change-password", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ username, oldPassword, newPassword })
                });
                const data = await response.json();
                
                alertDiv.textContent = data.message;
                alertDiv.className = data.success ? "alert alert-success" : "alert alert-danger";
                alertDiv.style.display = "block";
                
                if (data.success) {
                    setTimeout(() => {
                        document.getElementById("usernamePw").value = "";
                        document.getElementById("oldPassword").value = "";
                        document.getElementById("newPassword").value = "";
                    }, 2000);
                }
            } catch (err) {
                alertDiv.textContent = "An error occurred. Please try again later.";
                alertDiv.className = "alert alert-danger";
                alertDiv.style.display = "block";
            }
        });
        
        // Notifications Form
        document.getElementById("notificationsForm").addEventListener("submit", function(e) {
            e.preventDefault();
            const alertDiv = document.getElementById("responseNotificationsAlert");
            
            alertDiv.textContent = "Notification preferences updated successfully!";
            alertDiv.className = "alert alert-success";
            alertDiv.style.display = "block";
            
            setTimeout(() => {
                alertDiv.style.display = "none";
            }, 3000);
        });
        
        // Terms and Conditions
        document.getElementById("acceptTermsBtn").addEventListener("click", function() {
            const checkbox = document.getElementById("acceptTerms");
            const alertDiv = document.getElementById("responseTermsAlert");
            
            if (checkbox.checked) {
                alertDiv.textContent = "You have accepted the Terms and Conditions.";
                alertDiv.className = "alert alert-success";
            } else {
                alertDiv.textContent = "Please accept the Terms and Conditions to continue.";
                alertDiv.className = "alert alert-warning";
            }
            
            alertDiv.style.display = "block";
            
            setTimeout(() => {
                if (checkbox.checked) {
                    alertDiv.style.display = "none";
                }
            }, 3000);
        });
    </script>
</body>
</html>